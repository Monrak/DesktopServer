# DesktopServer (Next-Gen Local Environment)

**DesktopServer** is a powerful, professional-grade local development stack for Windows. Designed to be the successor to traditional local servers, it provides a seamless integrated environment for Apache, MySQL, and PHP development.

## ðŸŽï¸ Monrak Desktop Server Go! (Beta)
**The Ultimate PHP & AI Development Engine**

Developed by **Monrak Net Technology**, DesktopServer focuses on performance, portability, and ease of use for both modern and legacy web development.

---

## ðŸš€ Key Features

- **Integrated Stack**: Apache 2.4, MariaDB 11/MySQL 8.0, and high-performance PHP engine.
- **Hybrid PHP Engine**: Robust support for legacy (PHP 5.6/7.4) and modern (PHP 8.2/8.4) environments.
- **Modern Management UI**: Built with .NET 9.0 Windows Forms, featuring a custom flat-dark theme.
- **Performance Dashboard**: Real-time CPU and RAM usage charts for monitoring server health (Go Edition).
- **System Tray Integration**: Run in the background with quick access to logs and service controls.
- **Smart Port Management**: Automatic port detection and conflict resolution.
- **RoadRunner Integration**: Go-powered high-performance PHP server with SSL management (Go Edition).
- **PostgreSQL Support**: Integrated PostgreSQL 17 support with automated data initialization (Go Edition).
- **Adminer Auto-Login**: Secure, one-click login for PostgreSQL via automated shim.
- **Local SSL/HTTPS Support**: One-click certificate generation with automated trust/CA installation (SAN support).
- **Smart Isolation**: Automatically detects and cleans conflicting system PHP paths to ensure environment purity.
- **Clean Uninstallation**: Reliably removes all files, shortcuts, and background services (Apache, MariaDB, Postgres).

## ðŸ› ï¸ Tech Stack

- **Core UI**: .NET 9.0 (C# / WinForms)
- **Web Server**: Apache 2.4 (Standard) & RoadRunner (High-Performance)
- **Database**: MariaDB / MySQL 8.0 & PostgreSQL 17 (AI-Ready)
- **Scripting**: PHP 5.6 / 7.4 / 8.2 / 8.4+ (Universal Runtime)
- **Installer**: .NET-based Custom Setup Engine with Smart Flattening

## ðŸ“¦ Versions

| Feature | Lite Version | Pro Version | Go Edition |
| :--- | :---: | :---: | :---: |
| Apache Web Server | âœ… | âœ… | âŒ |
| RoadRunner Engine | âŒ | âŒ | âœ… |
| MariaDB / MySQL | âœ… | âœ… | âœ… |
| PostgreSQL Support | âŒ | âŒ | âœ… |
| PHP Support | âœ… (7.4) | âœ… (Multi) | âœ… (8.4+) |
| Standard Management UI | âœ… | âœ… | âœ… |
| Performance Dashboard | âŒ | âŒ | âœ… |
| SSL / HTTPS Management | âœ… | âœ… | âœ… |
| **Default Install Path** | `C:\DesktopServerLite` | `C:\DesktopServerPro` | `C:\DesktopServerGo` |

> [!NOTE]
> All versions are designed to be installed independently and can coexist on the same system without conflicting.

---

## ðŸ—ï¸ Getting Started

### Prerequisites
- Windows 10/11 (x64)
- .NET 9.0 Runtime

### âš ï¸ Build Requirements: Binary Dependencies

Due to GitHub's **100MB file size limit** and for repository performance, the large binary stacks (Apache, MySQL, PHP, etc.) are **not included** in this repository. These files must be manually placed in the `Resources` folder of the respective versions to successfully build the installer.

Developers must provide the following files:

| Target Folder | Required Files |
| :--- | :--- |
| **`Lite/DesktopServerSetup/Resources/`** | `apache24_tmp.zip`, `mysql80_tmp.zip`, `php74.zip`, `pma_tmp.zip`, `DesktopServerManager.exe` |
| **`Pro/DesktopServerSetupPro/Resources/`** | `apache24_tmp.zip`, `mysql80_tmp.zip`, `php56.zip`, `php74.zip`, `php82.zip`, `pma56_tmp.zip`, `pma_tmp.zip`, `vcredist_x64.exe`, `DesktopServerManagerPro.exe` |
| **`Go/DesktopServerSetupGo/Resources/`** | `php84_tmp.zip`, `roadrunner_tmp.zip`, `mariadb_tmp.zip`, `postgres_tmp.zip`, `pma_tmp.zip`, `DesktopServerManagerGo.exe` |

*\* Note: The `.exe` files for the Manager can be generated by building the Manager project or running the build scripts.*

> [!IMPORTANT]
> **Detailed Dependency Guide**: For instructions on where to download these binaries and how to structure the ZIP files properly, please refer to the **[BUILD_GUIDE.md](BUILD_GUIDE.md)**.

### Development / Building from Source
To build the project from source, you need **Visual Studio 2022** and the **.NET 9.0 SDK**.

1. Clone the repository.
2. Open `DesktopServer.sln` in the root (for everything) or individual solutions in `Lite/`, `Pro/`, and `Go/`.
3. Build the solution in `Release` mode.
4. Alternatively, use the provided PowerShell scripts:
   ```powershell
   # Build everything (Recommended)
   .\build_all.ps1

   # Build Go! version
   cd Go
   .\build.ps1

   # Build Lite version
   cd Lite
   .\build.ps1
   ```

### Build Pipeline & Publishing

DesktopServer uses a multi-stage build process to create a self-contained installer:

1.  **Manager Application**: The edition-specific Manager UI (e.g., `DesktopServerManagerGo`) is published as a single-file executable.
2.  **Resource Integration**: The published manager `.exe` is copied into the `Resources` folder of the respective `Setup` project.
3.  **Installer Bundle**: The `Setup` project is built, bundling the manager and all necessary server assets (ZIPs) into a single, redistributable installer.

### Output Locations

Depending on how you build, the final artifacts are organized as follows:

- **Using PowerShell Scripts (Recommended)**:
  - **Master Build** (`.\build_all.ps1`):
    - Final Artifacts Folder: `.\Deploy\`
    - Files Included:
      - `DesktopServerSetupLite.exe`, `.zip`, `.7z`
      - `DesktopServerSetupPro.exe`, `.zip`, `.7z`
      - `DesktopServerSetupGo.exe`, `.zip`, `.7z`
  - **Individual Build** (e.g., `.\Lite\build.ps1`, `.\Pro\build.ps1`, `.\Go\build.ps1`):
    - Artifacts: `.\Lite\Publish\`, `.\Pro\Publish\`, `.\Go\Publish\`

---

### ðŸ“¦ Publishing for Users

To create clean, ready-to-distribute installers and archives:
1. Open PowerShell in the root directory.
2. Run `.\build_all.ps1`.
3. All distribution-ready files will be available in the **`.\Deploy`** folder. These include both `.exe` installers and compressed `.zip` / `.7z` versions.

## ðŸ“œ License

Copyright Â© 2026 **Monrak Net Protocol**. All rights reserved.
Developed by [Monrak Net Technology](https://github.com/monraknet).

---
> [!NOTE]
> This project is designed for local development excellence. For production deployments, ensure appropriate security configurations are applied to Apache and MySQL.
